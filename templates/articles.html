{% extends "base.html" %}

{% block content %}
<section class="container my-5">

    <h2 class="mb-4 text-center">
        ðŸ“„ {{ "Ù…Ù‚Ø§Ù„Ø§Øª Ùˆ Ø§Ù†ØªØ´Ø§Ø±Ø§Øª" if lang == "fa" else "Articles & Publications" }}
    </h2>

    {% if articles %}
    <div class="row g-4">
        {% for article in articles %}
        <div class="col-md-4">
            <div class="card h-100 shadow-sm">
                {% if article.image %}
                <img src="{{ url_for('static', filename='images/' ~ article.image) }}" class="card-img-top"
                    alt="{{ article.title }}">
                {% else %}
                <img src="{{ url_for('static', filename='images/default.png') }}" class="card-img-top"
                    alt="{{ article.title }}">
                {% endif %}

                <div class="card-body d-flex flex-column">
                    <h5 class="card-title">{{ article.title }}</h5>
                    <p class="card-subtitle mb-2 text-muted small">
                        {{ article.authors }} â€“ {{ article.year }}
                    </p>
                    <p class="card-text">{{ article.abstract | truncate(120) }}</p>
                    <div class="mt-auto">
                        <p class="text-muted small mt-2">
                            {{ article.views }} {{ "Ø¨Ø§Ø²Ø¯ÛŒØ¯" if lang == "fa" else "views" }}
                        </p>
                        <a href="{{ url_for('article_detail', article_id=article.id) }}"
                            class="btn btn-primary btn-sm mb-2 w-100">
                            {{ "Ø¬Ø²Ø¦ÛŒØ§Øª Ù…Ù‚Ø§Ù„Ù‡" if lang == "fa" else "View Details" }}
                        </a>
                        <a href="{{ url_for('download_article', filename=article.file) }}"
                            class="btn btn-outline-primary btn-sm w-100">
                            â¬‡ {{ "Ø¯Ø§Ù†Ù„ÙˆØ¯ PDF" if lang == "fa" else "Download PDF" }}
                        </a>

                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <p class="text-center text-muted">
        {{ "Ù…Ù‚Ø§Ù„Ù‡â€ŒØ§ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª." if lang == "fa" else "No articles available." }}
    </p>
    {% endif %}

</section>
{% endblock %}